<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>IDS-Agent 실시간 대시보드</title>
  <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
</head>
<body>
  <h2>이벤트 분석 결과</h2>
  <p><b>탐지된 공격 유형:</b> <span id="attack_type">{{ report.attack_type }}</span></p>
  <p><b>신뢰도:</b> <span id="confidence">{{ report.confidence }}</span></p>
  <p><b>권장 대응 조치:</b> <span id="recommendation">{{ report.recommendation }}</span></p>

  <script>
    const socket = io();
    socket.on("new_report", (data) => {
      console.log("새 분석 결과 수신됨:", data);
      document.getElementById("attack_type").textContent = data.attack_type;
      document.getElementById("confidence").textContent = data.confidence;
      document.getElementById("recommendation").textContent = data.recommendation;
      alert("새 Snort 로그 이벤트가 감지되었습니다!");
    });
  </script>
</body>
</html>
